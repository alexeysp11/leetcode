# interlocked

Атомики (atomic variables) - это механизм синхронизации потоков, который позволяет гарантировать атомарность операций чтения/записи к переменной. 

В C# атомики реализуются классом `System.Threading.Interlocked` и методами, такими как `Add()`, `Increment()`, `Decrement()` и другими. 
Атомики используются в C# достаточно часто для синхронизации доступа к общим данным. 

## Эквиваленты в C# и C++

В C++ атомики реализуются классом std::atomic.

В C# функционал, эквивалентный функции `atomic<T>::load` в C++, реализуется с помощью метода Interlocked.CompareExchange(ref T location1, T value, T comparand).

В C# функционал, эквивалентный функции `atomic<T>::store` в C++, реализуется с помощью метода Interlocked.Exchange(ref T location1, T value).

В C++ атомик compare-and-swap реализуется с помощью класса `std::atomic<T>` и метода `compare_exchange_strong`. В C# атомик compare-and-swap реализуется с помощью класса `System.Threading.Interlocked` и методов `CompareExchange` и `CompareExchange<T>`.

В C++ атомик с указателями реализуется с помощью класса `std::atomic<void*>`. В C# атомик с указателями реализуется с помощью класса `System.Threading.Interlocked` и методов `Exchange` и `CompareExchange`.

## Задачи 

Для лучшего понимания работы атомиков в C# можно выполнить практические задачи, например, создать несколько потоков, которые будут работать с общим ресурсом, и использовать атомики для синхронизации доступа к этому ресурсу.

1. Создать счетчик, который будет инкрементироваться из нескольких потоков и использовать метод Interlocked.Increment() для безопасной работы с переменной.

2. Создать массив, который будет заполняться из нескольких потоков, и использовать метод Interlocked.Exchange() для безопасной замены элементов массива.

3. Создать очередь, которая будет использоваться из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасной вставки элементов в очередь.

4. Создать список, который будет использоваться из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасного добавления элементов в список.

5. Создать переменную, которая будет использоваться для хранения булевого значения из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасной проверки и изменения значения переменной.

6. Создать переменную, которая будет использоваться для хранения ссылки на объект из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасной проверки и изменения значения переменной.

7. Создать переменную, которая будет использоваться для хранения числа с плавающей точкой из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасной проверки и изменения значения переменной.

8. Создать переменную, которая будет использоваться для хранения целочисленного значения из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасной проверки и изменения значения переменной.

9. Создать переменную, которая будет использоваться для хранения строки из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасной проверки и изменения значения переменной.

10. Создать переменную, которая будет использоваться для хранения массива из нескольких потоков, и использовать метод Interlocked.CompareExchange() для безопасной проверки и изменения значения переменной.

