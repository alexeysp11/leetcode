# WindowFunctions.FinancialTransactions_FinancialTransactions_Products

Задачи, направленные на закрепление практических навыков работы с оконными функциями.

Конфигурация таблиц для закрепления практических навыков работы с PostgreSQL представлена в файле [Config_FinancialTransactions_FinancialTransactions_Products.sql](../../../sql/postgresql/Config_FinancialTransactions_FinancialTransactions_Products.sql). 
Аналогичную конфигурацию и определение таблиц можно использовать для других реляционных баз данных. 

## Задачи

1. Создание оконной функции на основе одной таблицы:

Необходимо создать оконную функцию, которая будет вычислять среднюю цену продукта для каждой категории товаров в таблице FinancialTransactions_Products. Для этого необходимо использовать функцию AVG и PARTITION BY, чтобы разделить данные по категориям товаров.

2. Создание оконной функции на основе нескольких таблиц:

Необходимо создать оконную функцию, которая будет вычислять общее количество заказов для каждого пользователя в таблицах FinancialTransactions_Orders и FinancialTransactions_Users. Для этого необходимо использовать функцию COUNT и PARTITION BY, чтобы разделить данные по пользователям.

3. Использование различных оконных функций, таких как SUM, AVG, COUNT, ROW_NUMBER, RANK и другие:

Необходимо создать несколько оконных функций для таблицы FinancialTransactions_OrderDetails, которые будут вычислять общее количество продуктов в каждом заказе (COUNT), суммарную стоимость заказа (SUM), а также номер строки в рамках каждого заказа (ROW_NUMBER).

4. Использование различных типов окон, таких как FIXED, RANGE и ROWS:

Необходимо создать оконную функцию для таблицы FinancialTransactions_Products, которая будет вычислять среднюю цену продукта для каждой категории товаров, используя тип окна FIXED для выбора определенного количества строк.

5. Использование PARTITION BY для разделения данных на группы:

Необходимо создать оконную функцию для таблицы FinancialTransactions_OrderDetails, которая будет вычислять общее количество продуктов в каждом заказе для каждого пользователя, используя PARTITION BY для разделения данных по пользователям.

6. Использование ORDER BY для упорядочивания данных внутри окна:

Необходимо создать оконную функцию для таблицы FinancialTransactions_OrderDetails, которая будет вычислять суммарную стоимость заказа для каждого пользователя, используя ORDER BY для упорядочивания данных по дате заказа.

7. Использование FRAME для определения диапазона данных внутри окна:

Необходимо создать оконную функцию для таблицы FinancialTransactions_OrderDetails, которая будет вычислять суммарную стоимость заказа для каждого пользователя, используя FRAME для определения диапазона данных внутри окна.

8. Использование оконных функций в сочетании с другими операциями, такими как JOIN, GROUP BY и другие:

Необходимо создать запрос, который будет использовать оконные функции для вычисления общего количества продуктов и суммарной стоимости заказа для каждого пользователя в таблицах FinancialTransactions_Orders, FinancialTransactions_Users и FinancialTransactions_OrderDetails, используя JOIN и GROUP BY для объединения данных.

9. Использование оконных функций для расчета процентного соотношения или доли данных внутри группы:

Необходимо создать оконную функцию для таблицы FinancialTransactions_OrderDetails, которая будет вычислять долю каждого продукта в общем количестве продуктов в каждом заказе.

10. Использование оконных функций для расчета разности или изменения между значениями в разных строках:

Необходимо создать оконную функцию для таблицы FinancialTransactions_Products, которая будет вычислять разницу в цене между каждым продуктом и средней ценой для его категории товаров.
